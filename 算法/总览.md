# 分治算法

分而治之，把一个复杂的问题分成多个相似的子问题，再把子问题分成更小的子问题……直到最后子问题可以简单的直接求解，原问题的解即子问题的解的合并

由分治法产生的子问题往往是原问题的较小模式，这就为使用递归技术提供了方便。**反复应用分治手段，可以使子问题与原问题类型一致而其规模却不断缩小，最终使子问题缩小到很容易直接求出其解。这自然导致递归过程的产生**



## **分治法适用的情况**

   分治法所能解决的问题一般具有以下几个特征：

  1) 该问题的规模缩小到一定的程度就可以容易地解决

  2) 该问题可以分解为若干个规模较小的相同问题，即该问题具有最优子结构性质。

  3) 利用该问题分解出的子问题的解可以合并为该问题的解；

  4) 该问题所分解出的各个子问题是相互独立的，即子问题之间不包含公共的子子问题。

第一条特征是绝大多数问题都可以满足的，因为问题的计算复杂性一般是随着问题规模的增加而增加；

**第二条特征是应用分治法的前提**它也是大多数问题可以满足的，此特征反映了递归思想的应用；

**第三条特征是关键，能否利用分治法完全取决于问题是否具有第三条特征**，如果**具备了第一条和第二条特征，而不具备第三条特征，则可以考虑用贪心法或动态规划法**。

**第四条特征涉及到分治法的效率**，如果各子问题是不独立的则分治法要做许多不必要的工作，重复地解公共的子问题，此时虽然可用分治法，但**一般用动态规划法较好**。

## 分治法基本步骤

 step1 分解：将原问题分解为若干个规模较小，相互独立，与原问题形式相同的子问题

 step2 解决：若子问题规模较小而容易被解决则直接解，否则递归地解各个子问题

 step3 合并：将各个子问题的解合并为原问题的解

# 动态规划

基本思想与分治法类似，也是将待求解的问题分解为若干个子问题（阶段），按顺序求解子阶段，**前一子问题的解，为后一子问题的求解提供了有用的信息**。在求解任一子问题时，**列出各种可能的局部解，通过决策保留那些有可能达到最优的局部解，丢弃其他局部解。**依次解决各子问题，最后一个子问题就是初始问题的解。

   由于**动态规划解决的问题多数有重叠子问题这个特点，为减少重复计算，对每一个子问题只解一次**，将其不同阶段的不同状态保存在一个二维数组中。

   与分治法最大的差别是：适合于用动态规划法求解的问题，经分解后得到的**子问题往往不是互相独立的**（即下一个子阶段的求解是建立在上一个子阶段的解的基础上，进行进一步的求解）。

## 适用情况

 (1) 最优化原理：如果问题的最优解所包含的子问题的解也是最优的，就称该问题具有最优子结构，即满足最优化原理。

 (2) 无后效性：即某阶段状态一旦确定，就不受这个状态以后决策的影响。也就是说，某状态以后的过程不会影响以前的状态，只与当前状态有关。

（3）有重叠子问题：即子问题之间是不独立的，一个子问题在下一阶段决策中可能被多次使用到。（该性质并不是动态规划适用的必要条件，但是如果没有这条性质，动态规划算法同其他算法相比就不具备优势）

## 基本步骤

动态规划所处理的问题是一个多阶段决策问题，一般由初始状态开始，通过对中间阶段决策的选择，达到结束状态。**这些决策形成了一个决策序列，同时确定了完成整个过程的一条活动路线**(通常是求最优的活动路线)

## 关键点

使用动态规划求解问题，最重要的就是确定动态规划三要素：

   （1）问题的阶段 （2）每个阶段的状态

   （3）从前一个阶段转化到后一个阶段之间的递推关系

## leetcode

53

# 贪心算法

  所谓贪心算法是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，**不从整体最优上加以考虑**，他所做出的仅是在某种意义上的**局部最优解**。

  算法没有固定的算法框架，算法设计的关键是贪心策略的选择。必须注意的是，贪心算法不是对所有问题都能得到整体最优解，选择的贪心策略必须具备**无后效性，即某个状态以后的过程不会影响以前的状态，只与当前状态有关。**

## 基本思路

1.建立数学模型来描述问题。

2.把求解的问题分成若干个子问题。

3.对每一子问题求解，得到子问题的局部最优解。

4.把子问题的解局部最优解合成原来解问题的一个解

## 适用情况

满足贪心选择性质 和 最优子结构性质 

贪心选择性质：所求问题的整体最优解可以通过一系列局部最优的选择，即贪心选择来达到。这是贪心算法可行的第一个基本要素，也是贪心算法与动态规划算法的主要区别。

对于一个具体问题，要确定它是否具有贪心选择性质，必须证明每一步所作的贪心选择最终导致问题的整体最优解



当一个问题的最优解包含其子问题的最优解时，称此问题具有最优子结构性质。**问题的最优子结构性质是该问题可用动态规划算法或贪心算法求解的关键特征**

## 例题

[背包问题]有一个背包，背包容量是M=150。有7个物品，物品可以分割成任意大小。

  要求尽可能让装入背包中的物品总价值最大，但不能超过总容量。

  物品 A B C D E F G

  重量 35 30 60 50 40 10 25

  价值 10 40 30 50 35 40 30

  分析：

  目标函数： ∑pi最大

  约束条件是装入的物品总重量不超过背包容量：∑wi<=M( M=150)

  （1）根据贪心的策略，每次挑选价值最大的物品装入背包，得到的结果是否最优？

  （2）每次挑选所占重量最小的物品装入是否能得到最优解？

  （3）每次选取单位重量价值最大的物品，成为解本题的策略。

  值得注意的是，贪心算法并不是完全不可以使用，贪心策略一旦经过证明成立后，它就是一种高效的算法。

  贪心算法还是很常见的算法之一，这是由于它简单易行，构造贪心策略不是很困难。

  **可惜的是，它需要证明后才能真正运用到题目的算法中。**

  一般来说，贪心算法的证明围绕着：整个问题的最优解一定由在贪心策略中存在的子问题的最优解得来的。

  对于例题中的3种贪心策略，都是无法成立（无法被证明）的，解释如下：

  （1）贪心策略：选取价值最大者。反例：

  W=30

  物品：A B C

  重量：28 12 12

  价值：30 20 20

  根据策略，首先选取物品A，接下来就无法再选取了，可是，选取B、C则更好。

  （2）贪心策略：选取重量最小。它的反例与第一种策略的反例差不多。

  （3）贪心策略：选取单位重量价值最大的物品。反例：

  W=30

  物品：A B C

  重量：28 20 10

  价值：28 20 10

  根据策略，三种物品单位重量价值一样，程序无法依据现有策略作出判断，如果选择A，则答案错误。但是如果在条件中加一句当遇见单位价值相同的时候,优先装重量小的,这样的问题就可以解决